<main class="main">
  <div class="summary">
    <h2>Holding Summary</h2>
    <div class="summary__portfolio">
      <span class="summary__portfolio--market-value">
        {{ portfolioData().summary.portfolioMarketValue | number: '1.2-2' : 'de-DE' }}€
      </span>
      <span
        class="summary__portfolio--change"
        [class.negative]="portfolioData().summary.portfolioChangeEUR < 0"
        [class.positive]="portfolioData().summary.portfolioChangeEUR >= 0">
        {{ formatNumber(portfolioData().summary.portfolioChangeEUR) }} €
      </span>
      <span
        class="summary__portfolio--change"
        [class.negative]="portfolioData().summary.portfolioChangePerc < 0"
        [class.positive]="portfolioData().summary.portfolioChangePerc >= 0">
        ({{ formatNumber(portfolioData().summary.portfolioChangePerc) }} %)
      </span>
    </div>
    <span class="separator">|</span>
    <div class="summary__portfolio--daily">
      <span class="summary__portfolio--label">Daily Change:</span>
      <span
        class="summary__portfolio--change"
        [class.negative]="portfolioData().summary.portfolioDailyChangeEUR < 0"
        [class.positive]="portfolioData().summary.portfolioDailyChangeEUR >= 0">
        {{ formatNumber(portfolioData().summary.portfolioDailyChangeEUR) }} €
      </span>
      <span
        class="summary__portfolio--change"
        [class.negative]="portfolioData().summary.portfolioDailyChangePerc < 0"
        [class.positive]="portfolioData().summary.portfolioDailyChangePerc >= 0">
        ({{ formatNumber(portfolioData().summary.portfolioDailyChangePerc) }} %)
      </span>
    </div>
    <button class="refresh-button" (click)="refreshData()" [disabled]="isRefreshing()">
      @if (isRefreshing()) {
        <span class="spinner"></span>
      }
      {{ isRefreshing() ? 'Refreshing...' : 'Refresh' }}
    </button>
  </div>
  <div class="content">
    <app-shares-table [data]="portfolioData().items" />
  </div>
</main>

<router-outlet />
